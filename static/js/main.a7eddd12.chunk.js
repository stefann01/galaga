(this.webpackJsonpgalaga=this.webpackJsonpgalaga||[]).push([[0],[,,function(e,t,n){e.exports={warningMessage:"gameMenu_warningMessage__3ZWVe",menuContainer:"gameMenu_menuContainer__1L2fz",playButton:"gameMenu_playButton__14Tyh",helpButton:"gameMenu_helpButton__bsZCN",buttonsText:"gameMenu_buttonsText__1xvC8",buttons:"gameMenu_buttons__6o_Jm",modal:"gameMenu_modal__3reIG",footer:"gameMenu_footer__2h6F6"}},function(e,t,n){e.exports={container:"score_container__1cEML",rightDisplayer:"score_rightDisplayer__152nW",life:"score_life__maG3_",text:"score_text__1JPFK",overheadContainer:"score_overheadContainer__24mmh",leftDisplayer:"score_leftDisplayer__3RtOJ",leftDisplayerItem:"score_leftDisplayerItem__2Y3K5"}},function(e,t,n){e.exports={dropdown:"dropdown_dropdown__ZKejq",dropdownSelected:"dropdown_dropdownSelected__cpE1_",selectedItem:"dropdown_selectedItem__1Wb8P",arrowDown:"dropdown_arrowDown__2ZinB",dropdownList:"dropdown_dropdownList__3XJkU",dropdownItem:"dropdown_dropdownItem__1BS1S",divider:"dropdown_divider__3yaEt"}},function(e,t,n){e.exports={settingsContainer:"settings_settingsContainer__1UltI",settingsContent:"settings_settingsContent__ZWiZS",title:"settings_title__1Mu_b",dropdownContainer:"settings_dropdownContainer__2gS8d",closeButton:"settings_closeButton__1ldeb"}},function(e,t,n){e.exports={container:"help_container__36rUn",content:"help_content__3xPNU",title:"help_title__3YrZQ",closeButton:"help_closeButton__292uv",tutorial:"help_tutorial__2qtJI",controls:"help_controls__3_Mqg"}},function(e,t,n){e.exports={wrapper:"overHead_wrapper__22WGC",progressBar:"overHead_progressBar__3bDtl",indicator:"overHead_indicator__32AP6",text:"overHead_text__3gZBG"}},function(e,t,n){e.exports={wrapper:"gameWon_wrapper__3DHiE",container:"gameWon_container__14XBs",prizeModal:"gameWon_prizeModal__2Vby2"}},,function(e,t,n){e.exports={enemy:"enemies_enemy__3b1Ss",enemyLifeBar:"enemies_enemyLifeBar__2BEI9"}},function(e,t,n){e.exports={wrapper:"gameOver_wrapper__1m7z8",container:"gameOver_container__1s36P"}},function(e,t,n){e.exports={videoContainer:"video_videoContainer__2TY-k",image:"video_image__2A6be"}},,function(e,t,n){e.exports={container:"App_container__2dyoh"}},function(e,t,n){e.exports={bullet:"bullets_bullet__1_LKG"}},function(e,t,n){e.exports={coin:"coins_coin__3cPtC",specialCoin:"coins_specialCoin__3gb8c"}},function(e,t,n){e.exports={bullet:"enemyBullets_bullet__1XeMh"}},function(e,t,n){e.exports={rocket:"rocket_rocket__18Zj6"}},,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i,s=n(1),r=n.n(s),o=n(13),c=n.n(o),a=n(14),l=n.n(a);!function(e){e[e.Move=0]="Move",e[e.Stop=1]="Stop",e[e.Shoot=2]="Shoot",e[e.MoveBullets=3]="MoveBullets",e[e.MoveEnemyBullet=4]="MoveEnemyBullet",e[e.AddEnemyBullet=5]="AddEnemyBullet",e[e.MoveCoins=6]="MoveCoins",e[e.AddEnemy=7]="AddEnemy",e[e.BuyLives=8]="BuyLives",e[e.IncreaseRocketPower=9]="IncreaseRocketPower",e[e.MoveEnemies=10]="MoveEnemies",e[e.NextLevel=11]="NextLevel",e[e.PlayAgain=12]="PlayAgain"}(i||(i={}));var h=i,d=n(15),m=n.n(d),b=n(0);function u({bullets:e,dispatch:t}){return Object(s.useEffect)((()=>{const e=setInterval((()=>{t({type:h.MoveBullets})}),5);return()=>clearInterval(e)}),[e.length,t]),Object(b.jsx)(b.Fragment,{children:e.length>0&&e.map(((e,t)=>Object(b.jsx)("div",{className:m.a.bullet,style:{left:e.x,top:e.y,width:e.width,height:e.height}},t)))})}var g=r.a.memo(u),j=n(16),p=n.n(j);function y({coins:e,dispatch:t,skin:n}){return Object(s.useEffect)((()=>{const e=setInterval((()=>{t({type:h.MoveCoins})}),50);return()=>clearInterval(e)}),[e.length,t]),Object(b.jsx)(b.Fragment,{children:e.map(((e,t)=>Object(b.jsx)("div",{className:p.a.coin,style:{left:e.x,top:e.y,width:e.width,height:e.height,backgroundImage:`url(/galaga${n})`}},t)))})}var x=r.a.memo(y),w=n(10),f=n.n(w);var v=r.a.memo((({theme:e,enemies:t,dispatch:n})=>(Object(s.useEffect)((()=>{const e=setInterval((()=>{t.length&&n({type:h.MoveEnemies})}),1e3);return()=>clearInterval(e)}),[t.length,n]),Object(s.useEffect)((()=>{0===t.length&&setTimeout((()=>{n({type:h.NextLevel})}),2e3)}),[t.length,n]),Object(b.jsx)(b.Fragment,{children:t.map(((t,n)=>{const i=t.lifePoints/t.maxLife*100,s=i>75?"lightgreen":i>50?"yellow":i>25?"orange":"red";return Object(b.jsxs)(b.Fragment,{children:[i<100&&Object(b.jsx)("div",{className:f.a.enemyLifeBar,style:{left:t.x,top:t.y-10,background:s,width:t.width}}),Object(b.jsx)("img",{alt:`Enemy${n}`,className:f.a.enemy,style:{left:t.x,top:t.y,width:t.width,height:t.height},src:`/galaga${e.enemies[e.currentEnemy].skin}`},n)]})}))}))),((e,t)=>JSON.stringify(e.enemies)===JSON.stringify(t.enemies))),O=n(17),_=n.n(O);function k({enemyBullets:e,theme:t,dispatch:n}){return Object(s.useEffect)((()=>{const e=setInterval((()=>{Math.random()<t.enemies[t.currentEnemy].shootingProbability&&n({type:h.AddEnemyBullet})}),500);return()=>clearInterval(e)}),[n,t.currentEnemy,t.enemies]),Object(s.useEffect)((()=>{const t=setInterval((()=>{e.length&&n({type:h.MoveEnemyBullet})}),10);return()=>clearInterval(t)}),[e.length,n]),Object(b.jsx)(b.Fragment,{children:e.length>0&&e.map(((e,n)=>Object(b.jsx)("div",{className:_.a.bullet,style:{left:e.x,top:e.y,width:e.width,height:e.height,backgroundSize:"cover",backgroundImage:`url(/galaga${t.enemies[t.currentEnemy].bullet})`}},n)))})}var P=r.a.memo(k),B=n(2),N=n.n(B),E=n(5),C=n.n(E),M=n(4),T=n.n(M),L=n.p+"static/media/arrow_down.dd291259.svg";function S({items:e,onItemClick:t,selectedItem:n}){const[i,r]=Object(s.useState)(!1),o=Object(s.useRef)(null);return Object(s.useEffect)((()=>{function e(e){o.current&&!o.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[o]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:T.a.dropdown,onClick:()=>r(!i),ref:o,children:[Object(b.jsxs)("div",{className:T.a.dropdownSelected,children:[Object(b.jsx)("span",{className:T.a.selectedItem,children:n}),Object(b.jsx)("img",{src:L,alt:"dropdown-arrow",className:T.a.arrowDown})]}),i&&Object(b.jsx)("div",{className:T.a.dropdownList,children:e.map(((e,n)=>Object(b.jsx)("div",{className:T.a.dropdownItem,onClick:()=>{t(e),r(!1)},children:e},n)))})]})})}function I({onClose:e}){const[t,n]=Object(s.useState)("Minecraft");return Object(b.jsx)("div",{className:C.a.settingsContainer,children:Object(b.jsxs)("div",{className:C.a.settingsContent,children:[Object(b.jsx)("h1",{children:"Settings"}),Object(b.jsxs)("div",{className:C.a.dropdownContainer,children:[Object(b.jsx)("span",{className:C.a.title,children:"Theme"}),Object(b.jsx)(S,{items:["Minecraft","Rainbow (soon)","Pokemon (soon)"],onItemClick:e=>{n(e)},selectedItem:t}),Object(b.jsx)("button",{className:C.a.closeButton,onClick:()=>{e()},children:Object(b.jsx)("h3",{children:"Back"})})]})]})})}var H=n(6),W=n.n(H);function D({onClose:e}){return Object(b.jsx)("div",{className:W.a.container,children:Object(b.jsxs)("div",{className:W.a.content,children:[Object(b.jsx)("h1",{children:"Hey adventurer!"}),Object(b.jsx)("button",{className:W.a.closeButton,onClick:()=>{e()},children:Object(b.jsx)("h3",{children:"Back"})}),Object(b.jsxs)("p",{className:W.a.tutorial,children:[" ","So, you have come to defeat the greatest challenge of all time, the challenge that many so-called heroes of the solar systems have tried to defeat, to win the most powerful weapon in the entire universe,"," ",Object(b.jsx)("br",{})," ",Object(b.jsx)("span",{children:" the Galaga! "})," ",Object(b.jsx)("br",{})," ",Object(b.jsx)("br",{})," Let me warn you, many adventurers have tried to take down this challenge, and many have died trying to gain power... Do you think you are brave enough? ",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Let me show you the rules! There are 10 levels that you have to beat, but be careful, with each advanced level, it becomes more difficult! And be careful! ",Object(b.jsx)("br",{})," ",Object(b.jsx)("span",{children:" You only have 5 lives! "})," When your 5 lives run out, you're dead! ",Object(b.jsx)("br",{}),Object(b.jsx)("img",{src:"",alt:""}),Object(b.jsx)("br",{})," Your mission is to defeat all the protectors of Galaga, the galactors, BUT BE CAREFUL! They can change their shape! But you can too! Before entering the arena, you can change your form by entering the settings and choosing the desired theme. ",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),"Galactors have a special ability that makes them difficult to defeat."," ",Object(b.jsx)("br",{})," ",Object(b.jsx)("span",{children:" You can't touch them! "})," If you touched them, you died! So you have to fight them from a distance, pressing the space key or click. Each gallactor can drop coins. With each penny, your money crystal will increase, and when your crystal is big enough, you can buy a life by pressing the B key, or you can increase your power by pressing the F key. ",Object(b.jsx)("br",{}),Object(b.jsx)("br",{})," And that being said, good luck adventurer, in the great fight, to win the GALAGA!"," "]}),Object(b.jsxs)("div",{className:W.a.controls,children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Mouse"}),Object(b.jsx)("p",{children:" - Movement"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Space / Click"}),Object(b.jsx)("p",{children:" - Shooting"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Key B"}),Object(b.jsx)("p",{children:" - Buy lives"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("p",{children:"Key F"}),Object(b.jsx)("p",{children:" - Power Up"})]})]})]})]})})}function A({onPlay:e}){const[t,n]=Object(s.useState)(!1),[i,r]=Object(s.useState)(!1);return Object(b.jsxs)("div",{className:N.a.menuContainer,children:[Object(b.jsx)("h1",{className:N.a.warningMessage,children:"Work still in progress... 90% \u2615"}),Object(b.jsxs)("div",{className:N.a.buttons,children:[Object(b.jsx)("button",{className:N.a.playButton,onClick:()=>{e(!0)},children:Object(b.jsx)("h2",{className:N.a.buttonsText,children:" Play Game "})}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:N.a.helpButton,onClick:()=>n(!0),children:Object(b.jsx)("h2",{className:N.a.buttonsText,children:" Settings "})}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{className:N.a.helpButton,onClick:()=>{r(!0)},children:Object(b.jsx)("h2",{className:N.a.buttonsText,children:" How to play "})})]}),Object(b.jsx)("div",{className:N.a.modal,style:{display:t?"block":"none"},children:Object(b.jsx)(I,{onClose:()=>n(!1)})}),Object(b.jsx)("div",{className:N.a.modal,style:{display:i?"block":"none"},children:Object(b.jsx)(D,{onClose:()=>r(!1)})}),i||t?Object(b.jsx)(b.Fragment,{}):Object(b.jsx)("footer",{className:N.a.footer,children:Object(b.jsxs)("p",{children:["Developed & brought to you with ",Object(b.jsx)("span",{children:" \u2764\ufe0f"})," by"," ",Object(b.jsx)("b",{children:" Mares Stefan "})," & ",Object(b.jsx)("b",{children:" Mares Gabriel "})," \xa92022 - All rights reserved"]})})]})}var G=n(11),$=n.n(G);function F({onPlayAgain:e,onHome:t}){return Object(b.jsx)("section",{className:$.a.wrapper,children:Object(b.jsxs)("div",{className:$.a.container,children:[Object(b.jsx)("h1",{children:"Game Over"}),Object(b.jsxs)("button",{onClick:e,children:[" ",Object(b.jsx)("h3",{children:" Play Again"})]}),Object(b.jsxs)("button",{onClick:t,children:[" ",Object(b.jsx)("h3",{children:" To homepage"})]})]})})}var z=n(8),U=n.n(z),J=n.p+"static/media/prize.b6e318ac.png";function R({onHome:e}){const[t,n]=Object(s.useState)(!1);return Object(b.jsxs)("section",{className:U.a.wrapper,children:[Object(b.jsxs)("div",{className:U.a.container,children:[Object(b.jsxs)("h1",{children:["Congrats! ",Object(b.jsx)("br",{}),Object(b.jsx)("span",{children:"You defeated the mighty galactors! Now, you shall receive your prize..."})]}),Object(b.jsx)("button",{onClick:()=>{n(!0)},children:Object(b.jsx)("h3",{children:"Get your prize adventurer!"})})]}),t?Object(b.jsxs)("div",{className:U.a.prizeModal,children:[Object(b.jsx)("img",{src:J,alt:"galaga prize"}),Object(b.jsx)("p",{children:"Here's your galaga, the might weapon of the entire universe! With it, you can conquer the world! Use it wisely, adventurer!"}),Object(b.jsx)("button",{onClick:()=>{n(!1),e()},children:Object(b.jsx)("h3",{children:"Let's get back home adventurer!"})})]}):Object(b.jsx)(b.Fragment,{})]})}var Z=n(18),Y=n.n(Z);var K=r.a.memo((function({rocket:e,dispatch:t,skin:n}){return Object(s.useEffect)((()=>{function e(e){t({type:h.Move,payload:{x:e.clientX,y:e.clientY}})}return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)}),[t]),Object(s.useEffect)((()=>{const e=e=>{32===e.keyCode&&t({type:h.Shoot}),66===e.keyCode&&t({type:h.BuyLives}),70===e.keyCode&&t({type:h.IncreaseRocketPower})},n=()=>{t({type:h.Shoot})};return window.addEventListener("click",n),window.addEventListener("keyup",e),()=>{window.removeEventListener("click",e),window.removeEventListener("keyup",n)}}),[t]),Object(b.jsx)("div",{className:Y.a.rocket,style:{left:e.x,top:e.y,width:e.width,height:e.height,background:`url(/galaga${n}) no-repeat`,backgroundSize:"cover"}})}),((e,t)=>e.rocket.x===t.rocket.x&&e.rocket.y===t.rocket.y)),q=n(7),X=n.n(q);function V({width:e,overheadPercentage:t}){const n={width:e},i={width:`${t}%`};return Object(b.jsxs)("div",{className:X.a.wrapper,children:[100===t&&Object(b.jsx)("h1",{className:X.a.text,children:" Overheat!"}),Object(b.jsx)("div",{className:X.a.progressBar,style:{...n},children:Object(b.jsx)("div",{className:X.a.indicator,style:{...i}})})]})}var Q=n(3),ee=n.n(Q);class te{constructor(e,t,n=te.width,i=te.height,s=te.coinDropProbability){this.x=e,this.y=t,this.width=n,this.height=i,this.coinDropProbability=s}}te.coinDropProbability=.3,te.width=50,te.height=40,te.powerIncreasePrice=10;var ne=te;var ie=r.a.memo((function({lives:e,candies:t,score:n,overheadPercentage:i,enemiesNumber:s,rocketPower:r,theme:o}){const c=100*t/ne.powerIncreasePrice,a=c<33?{skin:`/galaga${o.firePower.power33.skin}`,width:o.firePower.power33.width,height:o.firePower.power33.height}:c<66?{skin:`/galaga${o.firePower.power66.skin}`,width:o.firePower.power66.width,height:o.firePower.power66.height}:c<99?{skin:`/galaga${o.firePower.power99.skin}`,width:o.firePower.power99.width,height:o.firePower.power99.height}:{skin:`/galaga${o.firePower.power100.skin}`,width:o.firePower.power100.width,height:o.firePower.power100.height};return Object(b.jsxs)("div",{className:ee.a.container,children:[Object(b.jsxs)("div",{className:ee.a.leftDisplayer,children:[Object(b.jsxs)("div",{className:ee.a.leftDisplayerItem,children:[Object(b.jsx)("img",{src:`/galaga${o.coins.skin}`,alt:"candy",width:`${o.coins.width}`,height:`${o.coins.height}`}),Object(b.jsxs)("p",{className:ee.a.text,children:[":",t]})]}),Object(b.jsxs)("div",{className:ee.a.leftDisplayerItem,children:[Object(b.jsx)("img",{src:`/galaga${o.enemiesLeft.skin}`,alt:"enemies left",width:`${o.enemiesLeft.width}`,height:`${o.enemiesLeft.height}`}),Object(b.jsxs)("p",{className:ee.a.text,children:[":",s]})]}),Object(b.jsx)("div",{className:ee.a.leftDisplayerItem,children:Object(b.jsx)("img",{src:a.skin,alt:"fire power",width:`${a.width}`,height:`${a.height}`,style:{objectFit:"cover"}})})]}),Object(b.jsx)("div",{className:ee.a.overheadContainer,children:Object(b.jsx)(V,{width:382,overheadPercentage:i})}),Object(b.jsxs)("div",{className:ee.a.rightDisplayer,children:[e<5&&e>0&&[...Array(5-e)].map(((e,t)=>Object(b.jsx)("img",{src:`/galaga${o.death.skin}`,alt:`life${t}`},t))),[...Array(e)].map(((e,t)=>Object(b.jsx)("img",{src:`/galaga${o.life.skin}`,alt:`life${t}`},(t+1)**2)))]})]})}),((e,t)=>e.candies===t.candies&&e.overheadPercentage===t.overheadPercentage&&e.lives===t.lives)),se=n(12),re=n.n(se);function oe({imgUrl:e,children:t}){return Object(b.jsxs)("div",{className:re.a.videoContainer,children:[Object(b.jsx)("img",{src:"/galaga"+e,alt:"",className:re.a.image}),t]})}const ce={background:"/minecraftTheme/background.png",rocket:{skin:"/minecraftTheme/Steve.png",width:40,height:95,bullet:{skin:"/minecraftTheme/arrow.png",width:10,height:20}},enemies:[{skin:"/minecraftTheme/Spider.png",bullet:"/minecraftTheme/SpiderWeb.png",width:70,height:36,bulletWidth:20,bulletHeight:20,lifePoints:1,shootingProbability:.1,coinDropProbability:.5},{skin:"/minecraftTheme/caveSpider.png",bullet:"/minecraftTheme/SpiderWeb.png",width:70,height:36,bulletWidth:20,bulletHeight:20,lifePoints:10,shootingProbability:.3,coinDropProbability:.5},{skin:"/minecraftTheme/caveSpider.png",bullet:"/minecraftTheme/SpiderWeb.png",width:70,height:36,bulletWidth:20,bulletHeight:20,lifePoints:10,shootingProbability:.3,coinDropProbability:.5},{skin:"/minecraftTheme/Skeleton.png",bullet:"/minecraftTheme/Arrow.png",width:40,height:102,bulletWidth:11,bulletHeight:40,lifePoints:20,shootingProbability:.5,coinDropProbability:.5},{skin:"/minecraftTheme/Enderman.png",bullet:"/minecraftTheme/EnderEye.png",width:60,height:160,bulletWidth:20,bulletHeight:20,lifePoints:20,shootingProbability:.5,coinDropProbability:.5},{skin:"/minecraftTheme/Enderman.png",bullet:"/minecraftTheme/EnderEye.png",width:60,height:160,bulletWidth:20,bulletHeight:20,lifePoints:30,shootingProbability:.6,coinDropProbability:.5},{skin:"/minecraftTheme/drowned.png",bullet:"/minecraftTheme/trident.png",width:51,height:102,bulletWidth:26,bulletHeight:60,lifePoints:40,shootingProbability:.8,coinDropProbability:.3},{skin:"/minecraftTheme/stray.png",bullet:"/minecraftTheme/ArrowOfWeakness.png",width:40,height:102,bulletWidth:20,bulletHeight:36,lifePoints:60,shootingProbability:.8,coinDropProbability:.2},{skin:"/minecraftTheme/Blaze.png",bullet:"/minecraftTheme/fireBall.png",width:50,height:98,bulletWidth:20,bulletHeight:20,lifePoints:80,shootingProbability:.8,coinDropProbability:.1},{skin:"/minecraftTheme/Blaze.png",bullet:"/minecraftTheme/fireBall.png",width:50,height:98,bulletWidth:20,bulletHeight:20,lifePoints:100,shootingProbability:1,coinDropProbability:.1}],currentEnemy:0,coins:{skin:"/minecraftTheme/Coin.png",width:30,height:30},firePower:{power33:{skin:"/minecraftTheme/power33.png",width:30,height:15},power66:{skin:"/minecraftTheme/power66.png",width:30,height:20},power99:{skin:"/minecraftTheme/power99.png",width:30,height:25},power100:{skin:"/minecraftTheme/power100.png",width:30,height:25}},enemiesLeft:{skin:"/minecraftTheme/MonstersLeft.png",width:30,height:30},life:{skin:"/minecraftTheme/FullHeart.png"},death:{skin:"/minecraftTheme/EmptyHeart.png"}};class ae{constructor(e,t,n=ae.bulletWidth,i=ae.bulletHeight){this.x=e,this.y=t,this.width=n,this.height=i}}ae.bulletTime=70,ae.bulletSpace=.01,ae.bulletWidth=20,ae.bulletHeight=30;var le=ae;var he=class{constructor(e,t,n,i,s,r){this.x=e,this.y=t,this.width=n,this.height=i,this.lifePoints=s,this.maxLife=r}};class de{static getLevelEnemies(e,t,n){let i=[];const s=t;return i=[...de.getLine(25,s,100,200,e,t,n),...de.getLine(20,s,100+s+20,125,e,t,n),...de.getLine(10,s,100+2*(s+20),200,e,t,n)],i}static getLine(e,t,n,i=200,s,r,o){const c=[],a=i,l=(window.innerWidth-i-a)/(e-1);let h=a;for(let d=0;d<e;d++)c.push(new he(h-t/2,n,r,o,s,s)),h+=l;return c}}function me(e,t){switch(t.type){case h.PlayAgain:return ge(e.theme);case h.Move:const n=e.enemies.some((t=>be({x:e.rocket.x,y:e.rocket.y},{x:e.rocket.x+e.rocket.width,y:e.rocket.y+e.rocket.height},{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height})));return{...e,rocket:{...e.rocket,x:t.payload.x,y:t.payload.y},isGameOver:n};case h.MoveEnemies:return{...e,enemies:e.enemies.map((e=>e.y>window.innerHeight?{...e,y:100}:{...e,y:e.y+10}))};case h.IncreaseRocketPower:return{...e,rocket:e.candies>ne.powerIncreasePrice?{...e.rocket,power:e.rocket.power+1}:e.rocket,candies:e.candies>ne.powerIncreasePrice?e.candies-ne.powerIncreasePrice:e.candies};case h.BuyLives:return e.candies>=5&&e.lives<5?{...e,candies:e.candies-5,lives:e.lives+1}:e;case h.Shoot:return{...e,bullets:e.isOverHead?e.bullets:[...e.bullets,new le(e.rocket.x+e.rocket.width/2-le.bulletWidth/2,e.rocket.y)],isOverHead:e.bullets.length>=3};case h.AddEnemyBullet:if(e.enemies.length){const t=Math.floor(Math.random()*e.enemies.length);return{...e,enemyBullets:[...e.enemyBullets,new le(e.enemies[t].x,e.enemies[t].y,e.theme.enemies[e.theme.currentEnemy].bulletWidth,e.theme.enemies[e.theme.currentEnemy].bulletHeight)]}}return e;case h.MoveCoins:let i=0;return{...e,coins:e.coins.length?e.coins.map((e=>(e.y+=1,{...e}))).filter((e=>e.y<window.innerHeight)).filter((t=>{const n=be({x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:e.rocket.x,y:e.rocket.y},{x:e.rocket.x+e.rocket.width,y:e.rocket.y+e.rocket.height});return n&&(i+=1),!n})):e.coins,candies:e.candies+i};case h.MoveEnemyBullet:{const t=e.enemyBullets.find((t=>be({x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:e.rocket.x,y:e.rocket.y},{x:e.rocket.x+e.rocket.width,y:e.rocket.y+e.rocket.height})));return{...e,enemyBullets:e.enemyBullets.length?e.enemyBullets.map((e=>({...e,y:e.y+1}))).filter((e=>e.y<window.innerHeight)).filter((e=>e.x!==(null===t||void 0===t?void 0:t.x)&&e.y!==(null===t||void 0===t?void 0:t.y))):e.enemyBullets,isGameOver:0===e.lives,lives:t?e.lives-1:e.lives}}case h.MoveBullets:if(e.bullets.length){let t=[],n=[...e.coins];for(let i of e.bullets)for(let s of e.enemies)be({x:i.x,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:s.x,y:s.y},{x:s.x+s.width,y:s.y+s.height})&&(t=[...t,s],t=[...t,i],Math.random()<=e.theme.enemies[e.theme.currentEnemy].coinDropProbability&&s.lifePoints<=e.rocket.power&&(n=[...n,new ne(s.x,s.y,e.theme.coins.width,e.theme.coins.height)]));return{...e,bullets:e.bullets.length>0?e.bullets.map((e=>(e.y-=2,e))).filter((e=>e.y>0)).filter((e=>!t.find((t=>t.x===e.x&&t.y===e.y)))):e.bullets,coins:n,enemies:t.length?e.enemies.map((n=>t.includes(n)?{...n,lifePoints:n.lifePoints-e.rocket.power}:n)).filter((e=>e.lifePoints>0)):[...e.enemies],score:e.score+Math.floor(t.length/2),isOverHead:e.bullets.length>=3}}return e;case h.NextLevel:{const t=e.theme.currentEnemy+1;return t>=e.theme.enemies.length?{...e,isGameWon:!0,bullets:[],enemies:[],enemyBullets:[],coins:[]}:{...e,level:e.level+1,theme:{...e.theme,currentEnemy:t},enemies:de.getLevelEnemies(e.theme.enemies[t].lifePoints,e.theme.enemies[t].width,e.theme.enemies[t].height)}}default:return e}}function be(e,t,n,i){return e.x!==t.x&&e.y!==t.y&&n.x!==i.x&&n.y!==i.y&&(!(e.x>=i.x||n.x>=t.x)&&!(e.y>=i.y||n.y>=t.y))}var ue=class{constructor(e,t,n,i,s=1){this.x=e,this.y=t,this.width=n,this.height=i,this.power=s}};function ge(e){return{level:1,rocket:new ue(window.innerWidth/2,window.innerHeight-200,e.rocket.width,e.rocket.height),bullets:[],enemyBullets:[],enemies:de.getLevelEnemies(e.enemies[e.currentEnemy].lifePoints,e.enemies[e.currentEnemy].width,e.enemies[e.currentEnemy].height),pressedKeys:new Set,score:0,isGameOver:!1,isGameWon:!1,isOverHead:!1,coins:new Array,candies:0,lives:5,playerHasWon:!1,theme:e}}var je=function(){const[e,t]=Object(s.useState)(!1),[n,i]=Object(s.useState)(!1),[r]=Object(s.useState)(ce),[o,c]=Object(s.useReducer)(me,ge(r));Object(s.useEffect)((()=>{o.isGameOver&&(i(!0),t(!1))}),[o.isGameOver]);const a=()=>{i(!1),t(!0),c({type:h.PlayAgain})};return n?Object(b.jsx)(F,{onPlayAgain:a,onHome:()=>{t(!1),i(!1),c({type:h.PlayAgain})}}):o.isGameWon?Object(b.jsx)(R,{onHome:()=>{t(!1),i(!1),c({type:h.PlayAgain})}}):Object(b.jsxs)(b.Fragment,{children:[e&&Object(b.jsx)(oe,{imgUrl:o.theme.background,children:Object(b.jsxs)("div",{className:l.a.container,children:[Object(b.jsx)(ie,{lives:o.lives,score:o.score,candies:o.candies,overheadPercentage:o.bullets.length/3*100,enemiesNumber:o.enemies.length,rocketPower:o.rocket.power,theme:o.theme}),Object(b.jsx)(K,{dispatch:c,rocket:o.rocket,skin:o.theme.rocket.skin}),Object(b.jsx)(g,{bullets:o.bullets,dispatch:c}),Object(b.jsx)(v,{enemies:o.enemies,dispatch:c,theme:o.theme}),Object(b.jsx)(P,{enemyBullets:o.enemyBullets,dispatch:c,theme:o.theme}),Object(b.jsx)(x,{coins:o.coins,dispatch:c,skin:o.theme.coins.skin})]})}),Object(b.jsx)(b.Fragment,{children:!e&&Object(b.jsx)(A,{onPlay:()=>t(!0)})})]})};var pe=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((({getCLS:t,getFID:n,getFCP:i,getLCP:s,getTTFB:r})=>{t(e),n(e),i(e),s(e),r(e)}))};n(24);c.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(je,{})}),document.getElementById("root")),pe()}],[[25,1,2]]]);
//# sourceMappingURL=main.a7eddd12.chunk.js.map