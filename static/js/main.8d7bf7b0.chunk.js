(this.webpackJsonpgalaga=this.webpackJsonpgalaga||[]).push([[0],[,,function(e,t,n){e.exports={warningMessage:"gameMenu_warningMessage__3ZWVe",menuContainer:"gameMenu_menuContainer__1L2fz",playButton:"gameMenu_playButton__14Tyh",helpButton:"gameMenu_helpButton__bsZCN",buttonsText:"gameMenu_buttonsText__1xvC8",buttons:"gameMenu_buttons__6o_Jm"}},function(e,t,n){e.exports={container:"score_container__1cEML",rightDisplayer:"score_rightDisplayer__152nW",life:"score_life__maG3_",text:"score_text__1JPFK",overheadContainer:"score_overheadContainer__24mmh",leftDisplayer:"score_leftDisplayer__3RtOJ",leftDisplayerItem:"score_leftDisplayerItem__2Y3K5"}},function(e,t,n){e.exports={dropdown:"dropdown_dropdown__ZKejq",dropdownSelected:"dropdown_dropdownSelected__cpE1_",selectedItem:"dropdown_selectedItem__1Wb8P",arrowDown:"dropdown_arrowDown__2ZinB",dropdownList:"dropdown_dropdownList__3XJkU",dropdownItem:"dropdown_dropdownItem__1BS1S",divider:"dropdown_divider__3yaEt"}},function(e,t,n){e.exports={settingsContainer:"settings_settingsContainer__1UltI",settingsContent:"settings_settingsContent__ZWiZS",title:"settings_title__1Mu_b",dropdownContainer:"settings_dropdownContainer__2gS8d"}},function(e,t,n){e.exports={wrapper:"overHead_wrapper__22WGC",progressBar:"overHead_progressBar__3bDtl",indicator:"overHead_indicator__32AP6",text:"overHead_text__3gZBG"}},,,,function(e,t,n){e.exports={videoContainer:"video_videoContainer__2TY-k",image:"video_image__2A6be"}},,,,,function(e,t,n){e.exports={container:"App_container__2dyoh"}},function(e,t,n){e.exports={bullet:"bullets_bullet__1_LKG"}},function(e,t,n){e.exports={coin:"coins_coin__3cPtC",specialCoin:"coins_specialCoin__3gb8c"}},function(e,t,n){e.exports={enemy:"enemies_enemy__3b1Ss"}},function(e,t,n){e.exports={bullet:"enemyBullets_bullet__1XeMh"}},,function(e,t,n){e.exports={rocket:"rocket_rocket__18Zj6"}},,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i,s=n(1),r=n.n(s),c=n(9),o=n.n(c),a=n(15),l=n.n(a);!function(e){e[e.Move=0]="Move",e[e.Stop=1]="Stop",e[e.Shoot=2]="Shoot",e[e.MoveBullets=3]="MoveBullets",e[e.MoveEnemyBullet=4]="MoveEnemyBullet",e[e.AddEnemyBullet=5]="AddEnemyBullet",e[e.MoveCoins=6]="MoveCoins",e[e.AddEnemy=7]="AddEnemy",e[e.BuyLives=8]="BuyLives",e[e.IncreaseRocketPower=9]="IncreaseRocketPower",e[e.MoveEnemies=10]="MoveEnemies",e[e.NextLevel=11]="NextLevel",e[e.PlayAgain=12]="PlayAgain"}(i||(i={}));var h=i,d=n(16),m=n.n(d),u=n(0);function g({bullets:e,dispatch:t}){return Object(s.useEffect)((()=>{const n=setInterval((()=>{e.length>0&&t({type:h.MoveBullets})}),5);return()=>clearInterval(n)}),[e.length,t]),Object(u.jsx)(u.Fragment,{children:e.length>0&&e.map(((e,t)=>Object(u.jsx)("div",{className:m.a.bullet,style:{left:e.x,top:e.y,width:e.width,height:e.height}},t)))})}var b=r.a.memo(g),p=n(17),w=n.n(p);function y({coins:e,dispatch:t,skin:n}){return Object(s.useEffect)((()=>{const n=setInterval((()=>{e.length&&t({type:h.MoveCoins})}),50);return()=>clearInterval(n)}),[e.length,t]),Object(u.jsx)(u.Fragment,{children:e.map(((e,t)=>Object(u.jsx)("div",{className:w.a.coin,style:{left:e.x,top:e.y,width:e.width,height:e.height,backgroundImage:`url(/galaga${n})`}},t)))})}var j=r.a.memo(y),x=n(18),f=n.n(x);var v=r.a.memo((({theme:e,enemies:t,dispatch:n})=>(Object(s.useEffect)((()=>{const e=setInterval((()=>{t.length&&n({type:h.MoveEnemies})}),1e3);return()=>clearInterval(e)}),[t.length,n]),Object(s.useEffect)((()=>{0===t.length&&setTimeout((()=>{n({type:h.NextLevel})}),1e3)}),[t.length,n]),Object(u.jsx)(u.Fragment,{children:t.map(((t,n)=>{const i=t.lifePoints/t.maxLife*100,s=i>75?"lightgreen":i>50?"yellow":i>25?"orange":"red";return Object(u.jsxs)(u.Fragment,{children:[i<100&&Object(u.jsx)("div",{style:{position:"absolute",borderRadius:"100px",left:t.x,top:t.y-10,background:s,width:t.width,height:"10px"}}),Object(u.jsx)("img",{alt:`Enemy${n}`,className:f.a.enemy,style:{left:t.x,top:t.y,width:t.width,height:t.height},src:`/galaga${e.enemies[e.currentEnemy].skin}`},n)]})}))}))),((e,t)=>JSON.stringify(e.enemies)===JSON.stringify(t.enemies)));class k{constructor(e,t,n,i,s=k.defaultEnemyLife,r=k.defaultEnemyLife){this.x=e,this.y=t,this.width=n,this.height=i,this.lifePoints=s,this.maxLife=r}}k.enemyShootProbability=.2,k.defaultEnemyLife=1;var _=k,O=n(19),E=n.n(O);function P({enemyBullets:e,theme:t,dispatch:n}){return Object(s.useEffect)((()=>{const e=setInterval((()=>{Math.random()<_.enemyShootProbability&&n({type:h.AddEnemyBullet})}),500);return()=>clearInterval(e)}),[n]),Object(s.useEffect)((()=>{const t=setInterval((()=>{e.length&&n({type:h.MoveEnemyBullet})}),10);return()=>clearInterval(t)}),[e.length,n]),Object(u.jsx)(u.Fragment,{children:e.length>0&&e.map(((e,n)=>Object(u.jsx)("div",{className:E.a.bullet,style:{left:e.x,top:e.y,width:e.width,height:e.height,backgroundSize:"cover",backgroundImage:`url(/galaga${t.enemies[t.currentEnemy].bullet})`}},n)))})}var N=r.a.memo(P),B=n(2),C=n.n(B),S=n(20),L=n.n(S),M=n(5),T=n.n(M),I=n(4),W=n.n(I),H=n.p+"static/media/arrow_down.dd291259.svg";function $({items:e,onItemClick:t,selectedItem:n}){const[i,r]=Object(s.useState)(!1),c=Object(s.useRef)(null);return Object(s.useEffect)((()=>{function e(e){c.current&&!c.current.contains(e.target)&&r(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[c]),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:W.a.dropdown,onClick:()=>r(!i),ref:c,children:[Object(u.jsxs)("div",{className:W.a.dropdownSelected,children:[Object(u.jsx)("span",{className:W.a.selectedItem,children:n}),Object(u.jsx)("img",{src:H,alt:"candy",className:W.a.arrowDown})]}),i&&Object(u.jsx)("div",{className:W.a.dropdownList,children:e.map(((n,i)=>Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:W.a.dropdownItem,onClick:()=>{t(n),r(!1)},children:n}),i<e.length-1&&Object(u.jsx)("hr",{className:W.a.divider})]})))})]})})}function A({onClose:e}){const[t,n]=Object(s.useState)("Minecraft");return Object(u.jsx)("div",{className:T.a.settingsContainer,children:Object(u.jsx)("div",{className:T.a.settingsContent,children:Object(u.jsxs)("div",{className:T.a.dropdownContainer,children:[Object(u.jsx)("span",{className:T.a.title,children:"Theme"}),Object(u.jsx)($,{items:["Minecraft","Rainbow","Pokemon"],onItemClick:e=>{n(e)},selectedItem:t})]})})})}function D({onPlay:e,onClickSettingsButton:t,showSettings:n}){return Object(u.jsxs)("div",{className:C.a.menuContainer,children:[Object(u.jsx)("h1",{className:C.a.warningMessage,children:"Work still in progress... \u2615"}),Object(u.jsxs)("div",{className:C.a.buttons,children:[Object(u.jsx)("button",{className:C.a.playButton,onClick:()=>{e(!0)},children:Object(u.jsx)("h2",{className:C.a.buttonsText,children:" Play Game "})}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:C.a.helpButton,onClick:()=>t(!0),children:Object(u.jsx)("h2",{className:C.a.buttonsText,children:" Settings "})}),Object(u.jsx)("br",{}),Object(u.jsx)("button",{className:C.a.helpButton,children:Object(u.jsx)("h2",{className:C.a.buttonsText,children:" Help "})})]}),Object(u.jsx)(L.a,{isOpen:n,children:Object(u.jsx)(A,{onClose:()=>t(!1)})})]})}function F({onPlayAgain:e}){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Game Over"}),Object(u.jsx)("button",{onClick:e,children:"PLay Again"})]})}var G=n(21),R=n.n(G);var J=r.a.memo((function({rocket:e,dispatch:t,skin:n}){return Object(s.useEffect)((()=>{function e(e){t({type:h.Move,payload:{x:e.clientX,y:e.clientY}})}return window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)}),[t]),Object(s.useEffect)((()=>{const e=e=>{32===e.keyCode&&t({type:h.Shoot}),66===e.keyCode&&t({type:h.BuyLives}),70===e.keyCode&&t({type:h.IncreaseRocketPower})},n=()=>{t({type:h.Shoot})};return window.addEventListener("click",n),window.addEventListener("keyup",e),()=>{window.removeEventListener("click",e),window.removeEventListener("keyup",n)}}),[t]),Object(u.jsx)("div",{className:R.a.rocket,style:{left:e.x,top:e.y,width:e.width,height:e.height,border:"1px solid red",background:`url(/galaga${n}) no-repeat`,backgroundSize:"cover"}})}),((e,t)=>e.rocket.x===t.rocket.x)),Z=n(6),K=n.n(Z);function z({width:e,overheadPercentage:t}){const n={width:e},i={width:`${t}%`};return Object(u.jsxs)("div",{className:K.a.wrapper,children:[100===t&&Object(u.jsx)("h1",{className:K.a.text,children:" Overheat!"}),Object(u.jsx)("div",{className:K.a.progressBar,style:{...n},children:Object(u.jsx)("div",{className:K.a.indicator,style:{...i}})})]})}var U=n(3),X=n.n(U);class Y{constructor(e,t,n=Y.width,i=Y.height){this.x=e,this.y=t,this.width=n,this.height=i}}Y.coinDropProbability=.3,Y.width=50,Y.height=40,Y.powerIncreasePrice=10;var q=Y;var V=r.a.memo((function({lives:e,candies:t,score:n,overheadPercentage:i,enemiesNumber:s,rocketPower:r,theme:c}){const o=100*t/q.powerIncreasePrice,a=o<33?{skin:`/galaga${c.firePower.power33.skin}`,width:c.firePower.power33.width,height:c.firePower.power33.height}:o<66?{skin:`/galaga${c.firePower.power66.skin}`,width:c.firePower.power66.width,height:c.firePower.power66.height}:o<99?{skin:`/galaga${c.firePower.power99.skin}`,width:c.firePower.power99.width,height:c.firePower.power99.height}:{skin:`/galaga${c.firePower.power100.skin}`,width:c.firePower.power100.width,height:c.firePower.power100.height};return Object(u.jsxs)("div",{className:X.a.container,children:[Object(u.jsxs)("div",{className:X.a.leftDisplayer,children:[Object(u.jsxs)("div",{className:X.a.leftDisplayerItem,children:[Object(u.jsx)("img",{src:`/galaga${c.coins.skin}`,alt:"candy",width:`${c.coins.width}`,height:`${c.coins.height}`}),Object(u.jsxs)("p",{className:X.a.text,children:[":",t]})]}),Object(u.jsxs)("div",{className:X.a.leftDisplayerItem,children:[Object(u.jsx)("img",{src:`/galaga${c.enemiesLeft.skin}`,alt:"enemies left",width:`${c.enemiesLeft.width}`,height:`${c.enemiesLeft.height}`}),Object(u.jsxs)("p",{className:X.a.text,children:[":",s]})]}),Object(u.jsx)("div",{className:X.a.leftDisplayerItem,children:Object(u.jsx)("img",{src:a.skin,alt:"fire power",width:`${a.width}`,height:`${a.height}`,style:{objectFit:"cover"}})})]}),Object(u.jsx)("div",{className:X.a.overheadContainer,children:Object(u.jsx)(z,{width:382,overheadPercentage:i})}),Object(u.jsxs)("div",{className:X.a.rightDisplayer,children:[e<5&&e>0&&[...Array(5-e)].map(((e,t)=>Object(u.jsx)("img",{src:`/galaga${c.death.skin}`,alt:`life${t}`},t))),[...Array(e)].map(((e,t)=>Object(u.jsx)("img",{src:`/galaga${c.life.skin}`,alt:`life${t}`},(t+1)**2)))]})]})}),((e,t)=>e.candies===t.candies&&e.overheadPercentage===t.overheadPercentage&&e.lives===t.lives)),Q=n(10),ee=n.n(Q);function te({imgUrl:e,children:t}){return Object(u.jsxs)("div",{className:ee.a.videoContainer,children:[Object(u.jsx)("img",{src:"/galaga"+e,alt:"",className:ee.a.image}),t]})}const ne={background:"/minecraftTheme/background.png",rocket:{skin:"/minecraftTheme/Steve.png",width:40,height:95,bullet:{skin:"/minecraftTheme/arrow.png",width:10,height:20}},enemies:[{skin:"/minecraftTheme/Spider.png",bullet:"/minecraftTheme/SpiderWeb.png",width:70,height:36,bulletWidth:20,bulletHeight:20},{skin:"/minecraftTheme/Enderman.png",bullet:"/minecraftTheme/EnderEye.png",width:60,height:160,bulletWidth:20,bulletHeight:20},{skin:"/minecraftTheme/Spider.png",bullet:"/minecraftTheme/SpiderWeb.png",width:70,height:36,bulletWidth:20,bulletHeight:20},{skin:"/minecraftTheme/WitherSkeleton.png",bullet:"/minecraftTheme/StoneSword.png",width:40,height:102,bulletWidth:20,bulletHeight:40},{skin:"/minecraftTheme/drowned.png",bullet:"/minecraftTheme/trident.png",width:51,height:102,bulletWidth:26,bulletHeight:60},{skin:"/minecraftTheme/stray.png",bullet:"/minecraftTheme/ArrowOfWeakness.png",width:40,height:102,bulletWidth:20,bulletHeight:36},{skin:"/minecraftTheme/Enderman.png",bullet:"/minecraftTheme/EnderEye.png",width:60,height:160,bulletWidth:20,bulletHeight:20},{skin:"/minecraftTheme/Skeleton.png",bullet:"/minecraftTheme/Arrow.png",width:40,height:102,bulletWidth:11,bulletHeight:40},{skin:"/minecraftTheme/Blaze.png",bullet:"/minecraftTheme/fireBall.png",width:50,height:98,bulletWidth:20,bulletHeight:20}],currentEnemy:0,coins:{skin:"/minecraftTheme/Coin.png",width:30,height:30},firePower:{power33:{skin:"/minecraftTheme/power33.png",width:30,height:15},power66:{skin:"/minecraftTheme/power66.png",width:30,height:20},power99:{skin:"/minecraftTheme/power99.png",width:30,height:25},power100:{skin:"/minecraftTheme/power100.png",width:30,height:25}},enemiesLeft:{skin:"/minecraftTheme/MonstersLeft.png",width:30,height:30},life:{skin:"/minecraftTheme/FullHeart.png"},death:{skin:"/minecraftTheme/EmptyHeart.png"}};class ie{constructor(e,t,n=ie.bulletWidth,i=ie.bulletHeight){this.x=e,this.y=t,this.width=n,this.height=i}}ie.bulletTime=70,ie.bulletSpace=.01,ie.bulletWidth=20,ie.bulletHeight=30;var se=ie;class re{static getLevelEnemies(e,t,n){let i=[];const s=t;return i=[...re.getLine(25,s,100,200,e,t,n),...re.getLine(20,s,100+s+20,125,e,t,n),...re.getLine(10,s,100+2*(s+20),200,e,t,n)],i}static getLine(e,t,n,i=200,s,r,c){const o=[],a=i,l=(window.innerWidth-i-a)/(e-1);let h=a;for(let d=0;d<e;d++)o.push(new _(h-t/2,n,r,c,s,s)),h+=l;return o}}function ce(e,t){switch(t.type){case h.PlayAgain:return le(e.theme);case h.Move:e.enemies.some((t=>oe({x:e.rocket.x,y:e.rocket.y},{x:e.rocket.x+e.rocket.width,y:e.rocket.y+e.rocket.height},{x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height})));return{...e,rocket:{...e.rocket,x:t.payload.x,y:t.payload.y},isGameOver:!1};case h.MoveEnemies:return{...e,enemies:e.enemies.map((e=>e.y>window.innerHeight?{...e,y:100}:{...e,y:e.y+10}))};case h.IncreaseRocketPower:return{...e,rocket:e.candies>q.powerIncreasePrice?{...e.rocket,power:e.rocket.power+1}:e.rocket,candies:e.candies>q.powerIncreasePrice?e.candies-q.powerIncreasePrice:e.candies};case h.BuyLives:return e.candies>=5&&e.lives<5?{...e,candies:e.candies-5,lives:e.lives+1}:e;case h.Shoot:return{...e,bullets:e.isOverHead?e.bullets:[...e.bullets,new se(e.rocket.x+e.rocket.width/2-se.bulletWidth/2,e.rocket.y)],isOverHead:e.bullets.length>=5};case h.AddEnemyBullet:if(e.enemies.length){const t=Math.floor(Math.random()*e.enemies.length);return{...e,enemyBullets:[...e.enemyBullets,new se(e.enemies[t].x,e.enemies[t].y,e.theme.enemies[e.theme.currentEnemy].bulletWidth,e.theme.enemies[e.theme.currentEnemy].bulletHeight)]}}return e;case h.MoveCoins:let n=0;return{...e,coins:e.coins.length?e.coins.map((e=>(e.y+=1,{...e}))).filter((e=>e.y<window.innerHeight)).filter((t=>{const i=oe({x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:e.rocket.x,y:e.rocket.y},{x:e.rocket.x+e.rocket.width,y:e.rocket.y+e.rocket.height});return i&&(n+=1),!i})):e.coins,candies:e.candies+n};case h.MoveEnemyBullet:{const t=e.enemyBullets.find((t=>oe({x:t.x,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:e.rocket.x,y:e.rocket.y},{x:e.rocket.x+e.rocket.width,y:e.rocket.y+e.rocket.height})));return{...e,enemyBullets:e.enemyBullets.length?e.enemyBullets.map((e=>({...e,y:e.y+1}))).filter((e=>e.y<window.innerHeight)).filter((e=>e.x!==(null===t||void 0===t?void 0:t.x)&&e.y!==(null===t||void 0===t?void 0:t.y))):e.enemyBullets,isGameOver:0===e.lives,lives:t?e.lives-1:e.lives}}case h.MoveBullets:if(e.bullets.length){let t=[],n=[...e.coins];for(let i of e.bullets)for(let s of e.enemies)oe({x:i.x,y:i.y},{x:i.x+i.width,y:i.y+i.height},{x:s.x,y:s.y},{x:s.x+s.width,y:s.y+s.height})&&(t=[...t,s],t=[...t,i],Math.random()<=q.coinDropProbability&&s.lifePoints<=e.rocket.power&&(n=[...n,new q(s.x,s.y,e.theme.coins.width,e.theme.coins.height)]));return{...e,bullets:e.bullets.length>0?e.bullets.map((e=>(e.y-=2,e))).filter((e=>e.y>0)).filter((e=>!t.find((t=>t.x===e.x&&t.y===e.y)))):e.bullets,coins:n,enemies:t.length?e.enemies.map((n=>t.includes(n)?{...n,lifePoints:n.lifePoints-e.rocket.power}:n)).filter((e=>e.lifePoints>0)):[...e.enemies],score:e.score+Math.floor(t.length/2),isOverHead:e.bullets.length>=5}}return e;case h.NextLevel:{const t=e.theme.currentEnemy+1;return t>=e.theme.enemies.length?{...e,isGameWon:!0}:{...e,level:e.level+1,theme:{...e.theme,currentEnemy:t},enemies:re.getLevelEnemies(e.level+3,e.theme.enemies[t].width,e.theme.enemies[t].height)}}default:return e}}function oe(e,t,n,i){return e.x!==t.x&&e.y!==t.y&&n.x!==i.x&&n.y!==i.y&&(!(e.x>=i.x||n.x>=t.x)&&!(e.y>=i.y||n.y>=t.y))}var ae=class{constructor(e,t,n,i,s=1){this.x=e,this.y=t,this.width=n,this.height=i,this.power=s}};function le(e){return{level:1,rocket:new ae(window.innerWidth/2,window.innerHeight-200,e.rocket.width,e.rocket.height),bullets:[],enemyBullets:[],enemies:re.getLevelEnemies(1,e.enemies[e.currentEnemy].width,e.enemies[e.currentEnemy].height),pressedKeys:new Set,score:0,isGameOver:!1,isGameWon:!1,isOverHead:!1,coins:new Array,candies:0,lives:5,playerHasWon:!1,theme:e}}var he=function(){const[e,t]=Object(s.useState)(!1),[n,i]=Object(s.useState)(!1),[r,c]=Object(s.useState)(!1),[o,a]=Object(s.useState)(ne),[d,m]=Object(s.useReducer)(ce,le(o));return Object(s.useEffect)((()=>{d.isGameOver&&(i(!0),t(!1))}),[d.isGameOver]),Object(u.jsxs)(u.Fragment,{children:[e&&Object(u.jsx)(te,{imgUrl:d.theme.background,children:Object(u.jsxs)("div",{className:l.a.container,children:[Object(u.jsx)(V,{lives:d.lives,score:d.score,candies:d.candies,overheadPercentage:d.bullets.length/5*100,enemiesNumber:d.enemies.length,rocketPower:d.rocket.power,theme:d.theme}),Object(u.jsx)(J,{dispatch:m,rocket:d.rocket,skin:d.theme.rocket.skin}),Object(u.jsx)(b,{bullets:d.bullets,dispatch:m}),d.isGameWon&&Object(u.jsx)("h1",{style:{color:"white"},children:"Game Won"}),Object(u.jsx)(v,{enemies:d.enemies,dispatch:m,theme:d.theme}),Object(u.jsx)(N,{enemyBullets:d.enemyBullets,dispatch:m,theme:d.theme}),Object(u.jsx)(j,{coins:d.coins,dispatch:m,skin:d.theme.coins.skin})]})}),!e&&Object(u.jsx)(u.Fragment,{children:n?Object(u.jsx)(F,{onPlayAgain:()=>{i(!1),t(!0),m({type:h.PlayAgain})}}):Object(u.jsx)(D,{onPlay:()=>t(!0),onClickSettingsButton:c,showSettings:r})})]})};var de=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((({getCLS:t,getFID:n,getFCP:i,getLCP:s,getTTFB:r})=>{t(e),n(e),i(e),s(e),r(e)}))};n(38);o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(he,{})}),document.getElementById("root")),de()}],[[39,1,2]]]);
//# sourceMappingURL=main.8d7bf7b0.chunk.js.map